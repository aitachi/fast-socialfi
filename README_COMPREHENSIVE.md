# Fast SocialFi - å»ä¸­å¿ƒåŒ–ç¤¾äº¤é‡‘èå¹³å°

**ç‰ˆæœ¬**: v2.0-extended
**æ›´æ–°æ—¥æœŸ**: 2025-11-01
**æ–‡æ¡£ä½œè€…**: Development Team
**é¡¹ç›®çŠ¶æ€**: âœ… æ ¸å¿ƒåŠŸèƒ½å®Œæˆ + é‡‘èæ‰©å±•æ¨¡å—å®Œæˆ

---

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [æ ¸å¿ƒç‰¹æ€§](#æ ¸å¿ƒç‰¹æ€§)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [æ™ºèƒ½åˆçº¦è¯¦è§£](#æ™ºèƒ½åˆçº¦è¯¦è§£)
- [åç«¯æ¶æ„](#åç«¯æ¶æ„)
- [æ•°æ®åº“è®¾è®¡](#æ•°æ®åº“è®¾è®¡)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
- [æµ‹è¯•æŒ‡å—](#æµ‹è¯•æŒ‡å—)
- [APIæ–‡æ¡£](#apiæ–‡æ¡£)
- [å®‰å…¨å®¡è®¡](#å®‰å…¨å®¡è®¡)
- [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)

---

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

Fast SocialFi æ˜¯ä¸€ä¸ª**å®Œæ•´çš„å»ä¸­å¿ƒåŒ–ç¤¾äº¤é‡‘èå¹³å°**,èåˆäº†Web3ç¤¾äº¤ç½‘ç»œå’ŒDeFié‡‘èåŠŸèƒ½ã€‚ç”¨æˆ·å¯ä»¥åˆ›å»º"åœˆå­"(ç¤¾åŒº),å‘è¡ŒERC20ä»£å¸,é€šè¿‡è”åˆæ›²çº¿å®šä»·æœºåˆ¶è¿›è¡Œäº¤æ˜“,å¹¶äº«å—è´¨æŠ¼ã€å€Ÿè´·ã€æ”¶ç›Šåˆ†é…å’ŒDAOæ²»ç†ç­‰é‡‘èæœåŠ¡ã€‚

### æ ¸å¿ƒå®šä½

- **ç¤¾äº¤å±æ€§**: åŸºäºåŒºå—é“¾çš„å»ä¸­å¿ƒåŒ–ç¤¾äº¤ç½‘ç»œ,åŒ…æ‹¬å…³æ³¨ã€å‘å¸–ã€è¯„è®ºã€ç§ä¿¡ç­‰
- **é‡‘èå±æ€§**: æ¯ä¸ªåœˆå­æœ‰ç‹¬ç«‹çš„ERC20ä»£å¸,é€šè¿‡bonding curveå®šä»·,æ”¯æŒè´¨æŠ¼ã€å€Ÿè´·ã€æ”¶ç›Šåˆ†é…
- **æ²»ç†å±æ€§**: ä»£å¸æŒæœ‰è€…å¯å‚ä¸åœˆå­æ²»ç†,é€šè¿‡ææ¡ˆæŠ•ç¥¨å†³å®šç¤¾åŒºäº‹åŠ¡
- **ä»·å€¼é—­ç¯**: ç¤¾äº¤ä¿ƒè¿›é‡‘è,é‡‘èå¼ºåŒ–ç¤¾äº¤,å½¢æˆæ­£å‘å¾ªç¯

### é¡¹ç›®äº®ç‚¹

âœ… **å®Œæ•´çš„æ™ºèƒ½åˆçº¦ä½“ç³»** (8ä¸ªæ ¸å¿ƒåˆçº¦)
âœ… **ä¸‰ç§è”åˆæ›²çº¿å®šä»·æœºåˆ¶** (çº¿æ€§/æŒ‡æ•°/Så‹)
âœ… **ç¤¾äº¤åŒ–DeFiåŠŸèƒ½** (è´¨æŠ¼/å€Ÿè´·/æ”¶ç›Šåˆ†é…)
âœ… **å»ä¸­å¿ƒåŒ–æ²»ç†** (ææ¡ˆ/æŠ•ç¥¨/æ‰§è¡Œ)
âœ… **å®Œå–„çš„æ•°æ®åº“è®¾è®¡** (15ä¸ªè¡¨,æ”¯æŒå¤æ‚ç¤¾äº¤å›¾è°±)
âœ… **Goåç«¯æ¶æ„** (åˆ†å±‚è®¾è®¡,å¯æ‰©å±•)
âœ… **ç”Ÿäº§å°±ç»ªçš„å®‰å…¨æ€§** (OpenZeppelinæ ‡å‡†,é˜²é‡å…¥,æš‚åœæœºåˆ¶)

---

## ğŸš€ æ ¸å¿ƒç‰¹æ€§

### ä¸€ã€æ ¸å¿ƒç¤¾äº¤åŠŸèƒ½

#### 1.1 ç”¨æˆ·ç³»ç»Ÿ
- âœ… Web3é’±åŒ…ç™»å½• (MetaMask/WalletConnect)
- âœ… ENSåŸŸåè§£æ
- âœ… ç”¨æˆ·èµ„æ–™ç®¡ç† (IPFSå­˜å‚¨å¤´åƒ/å°é¢)
- âœ… ä¿¡èª‰è¯„åˆ†ç³»ç»Ÿ (å½±å“å€Ÿè´·åˆ©ç‡)
- âœ… ç¤¾äº¤å…³ç³»å›¾è°± (å…³æ³¨/ç²‰ä¸/å±è”½)

#### 1.2 åœˆå­ç³»ç»Ÿ
- âœ… åˆ›å»ºåœˆå­ (è‡ªåŠ¨éƒ¨ç½²ERC20ä»£å¸)
- âœ… ä¸‰ç§å®šä»·æ›²çº¿ (Linear/Exponential/Sigmoid)
- âœ… åœˆå­ç®¡ç† (æ¿€æ´»/åœç”¨/è½¬ç§»æ‰€æœ‰æƒ)
- âœ… æˆå‘˜ç®¡ç† (ç‰ˆä¸»æƒé™/å‘å¸–æƒé™)
- âœ… åœˆå­åˆ†ç±»å’Œæ ‡ç­¾

#### 1.3 å†…å®¹ç³»ç»Ÿ
- âœ… å‘å¸–/è¯„è®º (æ”¯æŒæ–‡æœ¬/å›¾ç‰‡/è§†é¢‘/é“¾æ¥)
- âœ… ç‚¹èµ/è¸©/åˆ†äº«
- âœ… åµŒå¥—è¯„è®º (æ— é™å±‚çº§)
- âœ… å†…å®¹å®¡æ ¸ (ç‰ˆä¸»å®¡æ ¸æœºåˆ¶)
- âœ… IPFSå­˜å‚¨ (å»ä¸­å¿ƒåŒ–å†…å®¹å­˜å‚¨)

#### 1.4 äº¤æ˜“ç³»ç»Ÿ
- âœ… ä¹°å…¥/å–å‡ºåœˆå­ä»£å¸
- âœ… å®æ—¶ä»·æ ¼è®¡ç®—
- âœ… æ»‘ç‚¹ä¿æŠ¤
- âœ… è´¹ç”¨åˆ†é… (åœˆä¸»60% + å¹³å°20% + æµåŠ¨æ€§20%)
- âœ… äº¤æ˜“å†å²æŸ¥è¯¢

### äºŒã€é‡‘èåŠŸèƒ½ (æ–°å¢)

#### 2.1 è´¨æŠ¼ç³»ç»Ÿ (StakingPool.sol) ğŸ†•
- âœ… çµæ´»è´¨æŠ¼ (å¯éšæ—¶å–å‡º)
- âœ… é”å®šè´¨æŠ¼ (7/30/90å¤©,è·å¾—æ›´é«˜APY)
- âœ… åŠ¨æ€APY (åŸºäºç¤¾åŒºè´¡çŒ®åº¦)
- âœ… è‡ªåŠ¨å¤åˆ©
- âœ… è´¨æŠ¼æ’è¡Œæ¦œ
- âœ… å¥–åŠ±æ± ç®¡ç†

**è´¨æŠ¼ç¤ºä¾‹**:
```solidity
// è´¨æŠ¼100ä¸ªä»£å¸,é”å®š30å¤©,è´¡çŒ®åº¦1.2x
stakingPool.stake(100 * 1e18, 30, 12000);

// æŸ¥è¯¢å¾…é¢†å–å¥–åŠ±
uint256 rewards = stakingPool.calculatePendingReward(user, positionId);

// é¢†å–å¥–åŠ±
stakingPool.claimRewards(positionId);

// è§£é™¤è´¨æŠ¼
stakingPool.unstake(positionId);
```

#### 2.2 ç¤¾äº¤åŒ–å€Ÿè´· (SocialLending.sol) ğŸ†•
- âœ… è¶…é¢æŠµæŠ¼å€Ÿè´· (150%æœ€ä½æŠµæŠ¼ç‡)
- âœ… ä¿¡èª‰åº¦åˆ©ç‡æ¨¡å‹ (ä¿¡èª‰è¶Šé«˜åˆ©ç‡è¶Šä½)
- âœ… ç¤¾äº¤æ‹…ä¿æœºåˆ¶ (å¥½å‹æ‹…ä¿é™ä½åˆ©ç‡)
- âœ… è‡ªåŠ¨æ¸…ç®— (å¥åº·åº¦<120%è§¦å‘)
- âœ… åŠ¨æ€åˆ©ç‡ (åŸºç¡€8% + ä¿¡èª‰æŠ˜æ‰£ + æ‹…ä¿æŠ˜æ‰£)

**å€Ÿè´·ç¤ºä¾‹**:
```solidity
// æŠµæŠ¼1000ä¸ªåœˆå­ä»£å¸,å€Ÿå…¥1 ETH
uint256 loanId = socialLending.borrow{value: 0}(
    circleToken,     // æŠµæŠ¼ä»£å¸åœ°å€
    1000 * 1e18,     // æŠµæŠ¼æ•°é‡
    1 ether,         // å€Ÿæ¬¾é‡‘é¢
    80               // ä¿¡èª‰åˆ† (0-100)
);

// æ·»åŠ æ‹…ä¿äºº (é™ä½åˆ©ç‡)
socialLending.addGuarantor(loanId, guarantorAddress);

// è¿˜æ¬¾
socialLending.repay{value: 1.05 ether}(loanId);

// æŸ¥è¯¢è´·æ¬¾å¥åº·åº¦
uint256 health = socialLending.getLoanHealth(loanId); // 10000 = 100%
```

#### 2.3 æ”¶ç›Šåˆ†é… (RevenueDistribution.sol) ğŸ†•
- âœ… å¤šæ”¶å…¥æºè¿½è¸ª (äº¤æ˜“è´¹/å¹¿å‘Šè´¹/åˆä½œæ”¶å…¥)
- âœ… æŒ‰æŒæœ‰é‡åˆ†é… (50%)
- âœ… æŒ‰è´¡çŒ®åº¦åˆ†é… (30%,å‘å¸–/è¯„è®º/é‚€è¯·)
- âœ… è´¨æŠ¼æ± åˆ†é… (20%)
- âœ… å®šæœŸè‡ªåŠ¨åˆ†é…
- âœ… æ”¶ç›Šå†å²æŸ¥è¯¢

**æ”¶ç›Šåˆ†é…ç¤ºä¾‹**:
```solidity
// åœˆä¸»åˆ›å»ºæ”¶ç›Šåˆ†é… (åˆ†é…0.5 ETH)
revenueDistribution.createDistribution(0.5 ether);

// ç”¨æˆ·é¢†å–æ”¶ç›Š
revenueDistribution.claimRevenue(distributionId);

// æŸ¥è¯¢å¯é¢†å–æ”¶ç›Š
uint256 claimable = revenueDistribution.getClaimableRevenue(distributionId, user);
```

#### 2.4 å»ä¸­å¿ƒåŒ–æ²»ç† (CircleGovernor.sol) ğŸ†•
- âœ… ææ¡ˆåˆ›å»º (éœ€è¦1%ä»£å¸é—¨æ§›)
- âœ… æŠ•ç¥¨æœºåˆ¶ (1 token = 1 vote)
- âœ… æ³•å®šäººæ•°è¦æ±‚ (4%æœ€ä½å‚ä¸ç‡)
- âœ… æ—¶é—´é” (ææ¡ˆé€šè¿‡å2å¤©æ‰§è¡Œ)
- âœ… ææ¡ˆæ‰§è¡Œ (è‡ªåŠ¨æ‰§è¡Œé“¾ä¸Šæ“ä½œ)
- âœ… ææ¡ˆå–æ¶ˆ (ææ¡ˆè€…æˆ–åœˆä¸»å¯å–æ¶ˆ)

**æ²»ç†ç¤ºä¾‹**:
```solidity
// åˆ›å»ºææ¡ˆ: ä»é‡‘åº“è½¬è´¦10 ETHç”¨äºè¥é”€
address[] memory targets = new address[](1);
targets[0] = marketingAddress;
uint256[] memory values = new uint256[](1);
values[0] = 10 ether;
bytes[] memory calldatas = new bytes[](1);
calldatas[0] = "";

uint256 proposalId = governor.propose(
    "Marketing Campaign Q1",
    "Allocate 10 ETH for Q1 marketing activities...",
    targets,
    values,
    calldatas
);

// æŠ•ç¥¨
governor.castVote(proposalId, VoteType.For);

// é˜Ÿåˆ—åŒ–
governor.queue(proposalId);

// æ‰§è¡Œ (ç­‰å¾…æ—¶é—´é”åˆ°æœŸ)
governor.execute(proposalId);
```

### ä¸‰ã€é€šçŸ¥ä¸æ¶ˆæ¯

#### 3.1 é€šçŸ¥ç³»ç»Ÿ
- âœ… 8ç§é€šçŸ¥ç±»å‹ (å…³æ³¨/è¯„è®º/æ‰“èµ/äº¤æ˜“/æ²»ç†ç­‰)
- âœ… å®æ—¶æ¨é€ (WebSocket)
- âœ… æ¶ˆæ¯ä¸­å¿ƒ
- âœ… æœªè¯»æ ‡è®°

#### 3.2 ç§ä¿¡ç³»ç»Ÿ
- âœ… ç«¯åˆ°ç«¯åŠ å¯†
- âœ… æ¶ˆæ¯å†å²
- âœ… å·²è¯»çŠ¶æ€

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯åº”ç”¨å±‚                            â”‚
â”‚  (React/Next.js + ethers.js + wagmi + TailwindCSS)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚              â”‚              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Goåç«¯APIå±‚     â”‚ â”‚ æ™ºèƒ½åˆçº¦å±‚   â”‚ â”‚  IPFSå­˜å‚¨    â”‚
â”‚  (RESTful API)    â”‚ â”‚ (Solidity)   â”‚ â”‚  (å†…å®¹)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ•°æ®åº“å±‚        â”‚ â”‚   åŒºå—é“¾ç½‘ç»œ             â”‚
â”‚  (MySQL + Redis)  â”‚ â”‚  (Ethereum/Sepolia)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

#### åŒºå—é“¾å±‚
- **Solidity**: 0.8.20 (æ™ºèƒ½åˆçº¦è¯­è¨€)
- **Foundry**: Forge/Cast/Anvil (å¼€å‘æ¡†æ¶)
- **OpenZeppelin**: v5.0+ (å®‰å…¨åˆçº¦åº“)
- **Ethereum**: Sepoliaæµ‹è¯•ç½‘/ä¸»ç½‘

#### åç«¯å±‚
- **Go**: 1.21+ (åç«¯è¯­è¨€)
- **Gin**: v1.9+ (Webæ¡†æ¶)
- **go-ethereum**: v1.13+ (ä»¥å¤ªåŠå®¢æˆ·ç«¯)
- **GORM**: v1.25+ (ORMæ¡†æ¶)
- **MySQL**: 8.0+ (å…³ç³»æ•°æ®åº“)
- **Redis**: 7.0+ (ç¼“å­˜å±‚)

#### å­˜å‚¨å±‚
- **IPFS**: å»ä¸­å¿ƒåŒ–æ–‡ä»¶å­˜å‚¨
- **MySQL**: å…³ç³»æ•°æ® (ç”¨æˆ·/åœˆå­/å¸–å­)
- **Redis**: ç¼“å­˜ (Feed/Trending/Session)

---

## ğŸ“œ æ™ºèƒ½åˆçº¦è¯¦è§£

### åˆçº¦åˆ—è¡¨

| åˆçº¦åç§° | æ–‡ä»¶è·¯å¾„ | åŠŸèƒ½æè¿° | çŠ¶æ€ |
|---------|---------|---------|------|
| **CircleFactory** | `contracts/core/CircleFactory.sol` | åœˆå­å·¥å‚,åˆ›å»ºå’Œç®¡ç†åœˆå­ | âœ… å·²éƒ¨ç½² |
| **CircleToken** | `contracts/core/CircleToken.sol` | ERC20åœˆå­ä»£å¸ | âœ… å·²éƒ¨ç½² |
| **BondingCurve** | `contracts/core/BondingCurve.sol` | è”åˆæ›²çº¿å®šä»·å¼•æ“ | âœ… å·²éƒ¨ç½² |
| **BondingCurveMath** | `contracts/libraries/BondingCurveMath.sol` | æ›²çº¿æ•°å­¦åº“ | âœ… å·²éƒ¨ç½² |
| **StakingPool** | `contracts/finance/StakingPool.sol` | ä»£å¸è´¨æŠ¼æ±  | âœ… æ–°å¢ |
| **SocialLending** | `contracts/finance/SocialLending.sol` | ç¤¾äº¤åŒ–å€Ÿè´· | âœ… æ–°å¢ |
| **RevenueDistribution** | `contracts/finance/RevenueDistribution.sol` | æ”¶ç›Šåˆ†é… | âœ… æ–°å¢ |
| **CircleGovernor** | `contracts/governance/CircleGovernor.sol` | DAOæ²»ç† | âœ… æ–°å¢ |

### åˆçº¦ä¾èµ–å…³ç³»

```
CircleFactory (å·¥å‚)
  â”œâ”€â”€ BondingCurve (å®šä»·å¼•æ“)
  â”‚     â””â”€â”€ BondingCurveMath (æ•°å­¦åº“)
  â”œâ”€â”€ CircleToken (ERC20ä»£å¸)
  â”‚     â”œâ”€â”€ StakingPool (è´¨æŠ¼)
  â”‚     â”œâ”€â”€ SocialLending (å€Ÿè´·,ç”¨ä½œæŠµæŠ¼å“)
  â”‚     â”œâ”€â”€ RevenueDistribution (æ”¶ç›Šåˆ†é…)
  â”‚     â””â”€â”€ CircleGovernor (æ²»ç†)
  â””â”€â”€ å¹³å°å›½åº“ (PlatformTreasury)
```

### æ ¸å¿ƒåˆçº¦è¯¦ç»†è¯´æ˜

#### 1. CircleFactory.sol - åœˆå­å·¥å‚

**éƒ¨ç½²åœ°å€** (Sepolia): `0xa734F3B212131faa6DD674CBDB00381d5407cB14`
**åŠŸèƒ½**: åˆ›å»ºå’Œç®¡ç†åœˆå­
**Gasæ¶ˆè€—**: ~3,000,000 gas (åˆ›å»ºåœˆå­)

**æ ¸å¿ƒå‡½æ•°**:
- `createCircle()` - åˆ›å»ºæ–°åœˆå­,éƒ¨ç½²ä»£å¸åˆçº¦
- `deactivateCircle()` - åœç”¨åœˆå­
- `transferCircleOwnership()` - è½¬ç§»åœˆä¸»èº«ä»½
- `getActiveCircles()` - è·å–æ´»è·ƒåœˆå­åˆ—è¡¨

**å®‰å…¨æœºåˆ¶**:
- âœ… ReentrancyGuard (é˜²é‡å…¥)
- âœ… Pausable (ç´§æ€¥æš‚åœ)
- âœ… Ownable (æƒé™ç®¡ç†)
- âœ… è¾“å…¥éªŒè¯ (åç§°é•¿åº¦/è´¹ç”¨æ£€æŸ¥)

#### 2. BondingCurve.sol - è”åˆæ›²çº¿å®šä»·

**éƒ¨ç½²åœ°å€** (Sepolia): `0x7b2AAFBb3c2f54466Af20a815D9DB6BD346da98D`
**åŠŸèƒ½**: å®ç°ä¸‰ç§å®šä»·æ›²çº¿
**Gasæ¶ˆè€—**: ~200,000 gas (ä¹°å…¥), ~150,000 gas (å–å‡º)

**å®šä»·æ›²çº¿å…¬å¼**:

```
1. çº¿æ€§æ›²çº¿ (LINEAR):
   price = basePrice + slope * supply

2. æŒ‡æ•°æ›²çº¿ (EXPONENTIAL):
   price = basePrice * (1 + growthRate)^supply

3. Så‹æ›²çº¿ (SIGMOID):
   price = basePrice + (maxPrice - basePrice) * supply / (inflectionPoint + supply)
```

**æ ¸å¿ƒå‡½æ•°**:
- `buyTokens()` - è´­ä¹°ä»£å¸
- `sellTokens()` - å–å‡ºä»£å¸
- `getCurrentPrice()` - æŸ¥è¯¢å½“å‰ä»·æ ¼
- `calculateBuyCost()` - è®¡ç®—ä¹°å…¥æˆæœ¬
- `getPriceImpact()` - è®¡ç®—ä»·æ ¼å½±å“

#### 3. CircleToken.sol - åœˆå­ä»£å¸

**æ ‡å‡†**: ERC-20 (å®Œå…¨å…¼å®¹)
**åŠŸèƒ½**: åœˆå­ä¸“å±ä»£å¸
**åˆå§‹ä¾›åº”**: 1000 tokens (ç»™åœˆä¸»)

**è´¹ç”¨ç»“æ„**:
- æ€»è´¹ç‡: 2.5%
- åœˆä¸»: 60% (1.5%)
- å¹³å°: 20% (0.5%)
- æµåŠ¨æ€§: 20% (0.5%)

#### 4. StakingPool.sol - è´¨æŠ¼æ±  ğŸ†•

**åŠŸèƒ½**: è´¨æŠ¼åœˆå­ä»£å¸è·å¾—æ”¶ç›Š
**APY**: å¯é…ç½® (é»˜è®¤10%,æœ€é«˜100%)

**é”å®šæœŸå’Œå€ç‡**:
| é”å®šæœŸ | APYå€ç‡ |
|--------|---------|
| çµæ´» (0å¤©) | 1.0x |
| 7å¤© | 1.2x |
| 30å¤© | 1.5x |
| 90å¤© | 2.0x |

**æ ¸å¿ƒå‡½æ•°**:
- `stake()` - è´¨æŠ¼ä»£å¸
- `unstake()` - è§£é™¤è´¨æŠ¼
- `claimRewards()` - é¢†å–å¥–åŠ±
- `calculatePendingReward()` - æŸ¥è¯¢å¾…é¢†å–å¥–åŠ±
- `depositRewards()` - å……å€¼å¥–åŠ±æ± 

**å¥–åŠ±è®¡ç®—å…¬å¼**:
```
effectiveAPY = baseAPY * lockMultiplier * contributionMultiplier
reward = (stakedAmount * effectiveAPY * stakingDuration) / (10000 * 365 days)
```

#### 5. SocialLending.sol - ç¤¾äº¤åŒ–å€Ÿè´· ğŸ†•

**åŠŸèƒ½**: ä»¥åœˆå­ä»£å¸ä½œæŠµæŠ¼å€Ÿå…¥ETH
**æŠµæŠ¼ç‡**: æœ€ä½150%
**æ¸…ç®—é˜ˆå€¼**: 120%
**æ¸…ç®—æƒ©ç½š**: 10%

**åˆ©ç‡æ¨¡å‹**:
```
baseRate = 8%
reputationDiscount = 0-3% (åŸºäºä¿¡èª‰åˆ†0-100)
guarantorDiscount = 0-5% (æœ€å¤š3ä¸ªæ‹…ä¿äºº)
finalRate = baseRate - reputationDiscount - guarantorDiscount
```

**ä¿¡èª‰åˆ†ç­‰çº§**:
| ä¿¡èª‰åˆ†èŒƒå›´ | åˆ©ç‡æŠ˜æ‰£ |
|-----------|---------|
| 0-19 | 0% |
| 20-39 | 0.5% |
| 40-59 | 1% |
| 60-79 | 2% |
| 80-100 | 3% |

**æ ¸å¿ƒå‡½æ•°**:
- `borrow()` - å€Ÿæ¬¾
- `repay()` - è¿˜æ¬¾
- `liquidate()` - æ¸…ç®—
- `addGuarantor()` - æ·»åŠ æ‹…ä¿äºº
- `isLiquidatable()` - æ£€æŸ¥æ˜¯å¦å¯æ¸…ç®—
- `getLoanHealth()` - æŸ¥è¯¢è´·æ¬¾å¥åº·åº¦

#### 6. RevenueDistribution.sol - æ”¶ç›Šåˆ†é… ğŸ†•

**åŠŸèƒ½**: å°†åœˆå­æ”¶å…¥åˆ†é…ç»™ç¤¾åŒºæˆå‘˜
**æ”¶å…¥æº**: äº¤æ˜“è´¹/å¹¿å‘Šè´¹/åˆä½œæ”¶å…¥

**åˆ†é…æ¯”ä¾‹**:
- ä»£å¸æŒæœ‰è€…: 50% (æŒ‰æŒæœ‰é‡)
- è´¡çŒ®è€…: 30% (æŒ‰å‘å¸–/è¯„è®º/é‚€è¯·)
- è´¨æŠ¼æ± : 20% (ç›´æ¥è½¬å…¥)

**è´¡çŒ®åº¦è¯„åˆ†**:
```
contributionScore = postCount * 100 + commentCount * 20 + inviteCount * 500
```

**æ ¸å¿ƒå‡½æ•°**:
- `createDistribution()` - åˆ›å»ºåˆ†é… (åœˆä¸»)
- `claimRevenue()` - é¢†å–æ”¶ç›Š
- `getClaimableRevenue()` - æŸ¥è¯¢å¯é¢†å–é‡‘é¢
- `updateContribution()` - æ›´æ–°ç”¨æˆ·è´¡çŒ®åº¦
- `collectRevenue()` - æ”¶é›†æ”¶å…¥

#### 7. CircleGovernor.sol - DAOæ²»ç† ğŸ†•

**åŠŸèƒ½**: åœˆå­å»ä¸­å¿ƒåŒ–æ²»ç†
**ææ¡ˆé—¨æ§›**: 100 tokens (1%æ€»ä¾›åº”)
**æ³•å®šäººæ•°**: 4%ä»£å¸å‚ä¸æŠ•ç¥¨
**æŠ•ç¥¨æœŸ**: 7å¤©
**æ—¶é—´é”**: 2å¤©

**ææ¡ˆçŠ¶æ€æµè½¬**:
```
Pending (å¾…å¼€å§‹)
  â†’ Active (æŠ•ç¥¨ä¸­)
    â†’ Succeeded (é€šè¿‡) / Defeated (å¤±è´¥)
      â†’ Queued (é˜Ÿåˆ—ä¸­)
        â†’ Executed (å·²æ‰§è¡Œ)
```

**æ ¸å¿ƒå‡½æ•°**:
- `propose()` - åˆ›å»ºææ¡ˆ
- `castVote()` - æŠ•ç¥¨ (For/Against/Abstain)
- `queue()` - é˜Ÿåˆ—åŒ–ææ¡ˆ
- `execute()` - æ‰§è¡Œææ¡ˆ
- `cancel()` - å–æ¶ˆææ¡ˆ
- `state()` - æŸ¥è¯¢ææ¡ˆçŠ¶æ€

---

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### æ•°æ®åº“æ¶æ„

**æ•°æ®åº“**: MySQL 8.0+
**å­—ç¬¦é›†**: utf8mb4
**å¼•æ“**: InnoDB
**è¡¨æ•°é‡**: 15ä¸ª
**æ¶æ„ç‰¹ç‚¹**: ç¤¾äº¤å›¾è°± + é‡‘èæ•°æ® + ç¼“å­˜ä¼˜åŒ–

### æ ¸å¿ƒè¡¨ç»“æ„

#### 1. users - ç”¨æˆ·è¡¨

```sql
CREATE TABLE `users` (
    `user_id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    `wallet_address` VARCHAR(42) UNIQUE NOT NULL,
    `ens_name` VARCHAR(255),
    `username` VARCHAR(50) UNIQUE,
    `display_name` VARCHAR(100),
    `bio` TEXT,
    `avatar_ipfs_hash` VARCHAR(64),
    `follower_count` INT UNSIGNED DEFAULT 0,
    `following_count` INT UNSIGNED DEFAULT 0,
    `reputation_score` DECIMAL(10,2) DEFAULT 0, -- ç”¨äºå€Ÿè´·åˆ©ç‡è®¡ç®—
    `total_trading_volume` DECIMAL(30,18) DEFAULT 0,
    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_wallet (wallet_address),
    INDEX idx_reputation (reputation_score DESC),
    FULLTEXT idx_search (username, display_name, bio)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

#### 2. user_relationships - ç¤¾äº¤å…³ç³»å›¾è°±

**è®¾è®¡æ¨¡å¼**: RDFä¸‰å…ƒç»„ (Subject-Predicate-Object)

```sql
CREATE TABLE `user_relationships` (
    `from_user_id` BIGINT UNSIGNED NOT NULL,
    `relationship_type` ENUM('FOLLOWS', 'BLOCKS', 'COLLABORATES') NOT NULL,
    `to_user_id` BIGINT UNSIGNED NOT NULL,
    `strength_score` DECIMAL(5,2) DEFAULT 1.0, -- å…³ç³»å¼ºåº¦ (ç”¨äºæ¨èç®—æ³•)
    `interaction_count` INT UNSIGNED DEFAULT 0,
    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (from_user_id, relationship_type, to_user_id),
    FOREIGN KEY (from_user_id) REFERENCES users(user_id),
    FOREIGN KEY (to_user_id) REFERENCES users(user_id),
    CHECK (from_user_id != to_user_id)
) ENGINE=InnoDB;
```

#### 3. circles - åœˆå­è¡¨

```sql
CREATE TABLE `circles` (
    `circle_id` BIGINT UNSIGNED PRIMARY KEY,
    `contract_address` VARCHAR(42) UNIQUE NOT NULL,
    `owner_id` BIGINT UNSIGNED NOT NULL,
    `name` VARCHAR(50) NOT NULL,
    `symbol` VARCHAR(10) NOT NULL,
    `description` TEXT,
    `category` VARCHAR(50),
    `tags` JSON,
    `total_supply` DECIMAL(30,18) DEFAULT 0,
    `current_price` DECIMAL(30,18) DEFAULT 0,
    `market_cap` DECIMAL(30,18) DEFAULT 0,
    `curve_type` ENUM('LINEAR', 'EXPONENTIAL', 'SIGMOID') NOT NULL,
    `member_count` INT UNSIGNED DEFAULT 0,
    `created_at_block` BIGINT UNSIGNED,
    `is_active` BOOLEAN DEFAULT TRUE,
    INDEX idx_market_cap (market_cap DESC),
    INDEX idx_category (category),
    FULLTEXT idx_search (name, description)
) ENGINE=InnoDB;
```

#### 4. trades - äº¤æ˜“è®°å½•

```sql
CREATE TABLE `trades` (
    `trade_id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    `tx_hash` VARCHAR(66) UNIQUE NOT NULL,
    `trader_id` BIGINT UNSIGNED NOT NULL,
    `circle_id` BIGINT UNSIGNED NOT NULL,
    `trade_type` ENUM('BUY', 'SELL') NOT NULL,
    `token_amount` DECIMAL(30,18) NOT NULL,
    `eth_amount` DECIMAL(30,18) NOT NULL,
    `price` DECIMAL(30,18) NOT NULL,
    `fee` DECIMAL(30,18) NOT NULL,
    `block_number` BIGINT UNSIGNED,
    `timestamp` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_trader (trader_id, timestamp DESC),
    INDEX idx_circle (circle_id, timestamp DESC),
    INDEX idx_type (trade_type, timestamp DESC)
) ENGINE=InnoDB;
```

### é‡‘èæ•°æ®è¡¨ (æ–°å¢)

#### 5. staking_positions - è´¨æŠ¼ä»“ä½è¡¨ ğŸ†•

```sql
CREATE TABLE `staking_positions` (
    `position_id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    `user_id` BIGINT UNSIGNED NOT NULL,
    `circle_id` BIGINT UNSIGNED NOT NULL,
    `staked_amount` DECIMAL(30,18) NOT NULL,
    `lock_period_days` INT UNSIGNED DEFAULT 0, -- 0=çµæ´», 7/30/90=é”å®š
    `apy_multiplier` DECIMAL(5,2) DEFAULT 1.0,
    `accrued_rewards` DECIMAL(30,18) DEFAULT 0,
    `staked_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    `unlock_at` TIMESTAMP NULL,
    INDEX idx_user (user_id, circle_id),
    INDEX idx_unlock (unlock_at),
    FOREIGN KEY (user_id) REFERENCES users(user_id),
    FOREIGN KEY (circle_id) REFERENCES circles(circle_id)
) ENGINE=InnoDB;
```

#### 6. lending_positions - å€Ÿè´·ä»“ä½è¡¨ ğŸ†•

```sql
CREATE TABLE `lending_positions` (
    `loan_id` BIGINT UNSIGNED PRIMARY KEY,
    `borrower_id` BIGINT UNSIGNED NOT NULL,
    `collateral_token` VARCHAR(42) NOT NULL,
    `collateral_amount` DECIMAL(30,18) NOT NULL,
    `borrowed_amount` DECIMAL(30,18) NOT NULL,
    `interest_rate` DECIMAL(5,2) NOT NULL, -- Basis points
    `reputation_score` DECIMAL(5,2) NOT NULL,
    `health_ratio` DECIMAL(5,2) NOT NULL, -- 10000 = 100%
    `is_active` BOOLEAN DEFAULT TRUE,
    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_borrower (borrower_id, is_active),
    INDEX idx_health (health_ratio ASC), -- ä½å¥åº·åº¦ä¼˜å…ˆ
    FOREIGN KEY (borrower_id) REFERENCES users(user_id)
) ENGINE=InnoDB;
```

#### 7. revenue_distributions - æ”¶ç›Šåˆ†é…è®°å½• ğŸ†•

```sql
CREATE TABLE `revenue_distributions` (
    `distribution_id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    `circle_id` BIGINT UNSIGNED NOT NULL,
    `total_amount` DECIMAL(30,18) NOT NULL,
    `token_holders_share` DECIMAL(30,18) NOT NULL,
    `contributors_share` DECIMAL(30,18) NOT NULL,
    `staking_pool_share` DECIMAL(30,18) NOT NULL,
    `timestamp` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    `is_finalized` BOOLEAN DEFAULT FALSE,
    INDEX idx_circle (circle_id, timestamp DESC),
    FOREIGN KEY (circle_id) REFERENCES circles(circle_id)
) ENGINE=InnoDB;
```

#### 8. governance_proposals - æ²»ç†ææ¡ˆ ğŸ†•

```sql
CREATE TABLE `governance_proposals` (
    `proposal_id` BIGINT UNSIGNED PRIMARY KEY,
    `circle_id` BIGINT UNSIGNED NOT NULL,
    `proposer_id` BIGINT UNSIGNED NOT NULL,
    `title` VARCHAR(200) NOT NULL,
    `description` TEXT NOT NULL,
    `for_votes` DECIMAL(30,18) DEFAULT 0,
    `against_votes` DECIMAL(30,18) DEFAULT 0,
    `abstain_votes` DECIMAL(30,18) DEFAULT 0,
    `state` ENUM('Pending', 'Active', 'Succeeded', 'Defeated', 'Queued', 'Executed', 'Cancelled') NOT NULL,
    `voting_starts` TIMESTAMP NOT NULL,
    `voting_ends` TIMESTAMP NOT NULL,
    `executed_at` TIMESTAMP NULL,
    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_circle (circle_id, state),
    INDEX idx_proposer (proposer_id),
    INDEX idx_state (state, voting_ends DESC),
    FOREIGN KEY (circle_id) REFERENCES circles(circle_id),
    FOREIGN KEY (proposer_id) REFERENCES users(user_id)
) ENGINE=InnoDB;
```

---

## âš¡ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

```bash
# 1. Foundry (æ™ºèƒ½åˆçº¦å¼€å‘)
curl -L https://foundry.paradigm.xyz | bash
foundryup

# 2. Go 1.21+
# Windows: https://golang.org/dl/

# 3. MySQL 8.0+
# Windows: https://dev.mysql.com/downloads/mysql/

# 4. Git
# Windows: https://git-scm.com/download/win
```

### å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
cd fast-socialfi

# 2. å®‰è£…Solidityä¾èµ–
forge install

# 3. å®‰è£…Goä¾èµ–
cd backend
go mod download
cd ..

# 4. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘.envå¡«å…¥é…ç½®
```

### åˆå§‹åŒ–æ•°æ®åº“

```bash
# åˆ›å»ºæ•°æ®åº“
mysql -u root -p
CREATE DATABASE socialfi_db;
exit;

# è¿è¡Œè¿ç§»
mysql -u root -p socialfi_db < database/migrations/001_initial_schema.sql

# æ’å…¥æµ‹è¯•æ•°æ®
mysql -u root -p socialfi_db < database/seeds/001_test_data.sql
```

### ç¼–è¯‘å’Œæµ‹è¯•æ™ºèƒ½åˆçº¦

```bash
# ç¼–è¯‘
forge build

# è¿è¡Œæµ‹è¯•
forge test -vvv

# GasæŠ¥å‘Š
forge test --gas-report

# æµ‹è¯•è¦†ç›–ç‡
forge coverage
```

### éƒ¨ç½²åˆçº¦ (æœ¬åœ°Anvil)

```bash
# ç»ˆç«¯1: å¯åŠ¨æœ¬åœ°åŒºå—é“¾
anvil

# ç»ˆç«¯2: éƒ¨ç½²åˆçº¦
forge script script/Deploy.s.sol:DeployScript \
  --rpc-url http://localhost:8545 \
  --private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 \
  --broadcast
```

### å¯åŠ¨åç«¯æœåŠ¡

```bash
cd backend
go run cmd/api/main.go

# æœåŠ¡è¿è¡Œåœ¨ http://localhost:8080
```

### æµ‹è¯•API

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8080/health

# è·å–ç”¨æˆ·ä¿¡æ¯
curl http://localhost:8080/api/v1/users/0x742d35cc6634c0532925a3b844bc9e7595f0beb1
```

---

## ğŸš¢ éƒ¨ç½²æŒ‡å—

### éƒ¨ç½²åˆ°Sepoliaæµ‹è¯•ç½‘

#### 1. å‡†å¤‡å·¥ä½œ

```bash
# è·å–æµ‹è¯•ETH
# https://sepoliafaucet.com/
# https://cloud.google.com/application/web3/faucet/ethereum/sepolia

# é…ç½®.env
SEPOLIA_RPC_URL=https://sepolia.infura.io/v3/YOUR_PROJECT_ID
PRIVATE_KEY=your_private_key_without_0x
ETHERSCAN_API_KEY=your_etherscan_api_key
```

#### 2. éƒ¨ç½²åˆçº¦

```bash
# éƒ¨ç½²å¹¶éªŒè¯
forge script script/Deploy.s.sol:DeployScript \
  --rpc-url $SEPOLIA_RPC_URL \
  --private-key $PRIVATE_KEY \
  --broadcast \
  --verify \
  --etherscan-api-key $ETHERSCAN_API_KEY
```

#### 3. éƒ¨ç½²åœ°å€ (ç¤ºä¾‹)

```
CircleFactory: 0xa734F3B212131faa6DD674CBDB00381d5407cB14
BondingCurve: 0x7b2AAFBb3c2f54466Af20a815D9DB6BD346da98D
```

#### 4. éªŒè¯éƒ¨ç½²

```bash
# æŸ¥çœ‹CircleFactory
cast call $FACTORY_ADDRESS "circleCount()" --rpc-url $SEPOLIA_RPC_URL

# åˆ›å»ºæµ‹è¯•åœˆå­
cast send $FACTORY_ADDRESS \
  "createCircle(string,string,string,uint8,uint256,uint256,uint256,uint256)" \
  "Tech Circle" "TECH" "A tech community" 0 1000000000000000 100000000000000 0 0 \
  --value 0.01ether \
  --rpc-url $SEPOLIA_RPC_URL \
  --private-key $PRIVATE_KEY
```

---

## ğŸ§ª æµ‹è¯•æŒ‡å—

### æ™ºèƒ½åˆçº¦æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
forge test -vvv

# æµ‹è¯•ç‰¹å®šåˆçº¦
forge test --match-contract CircleFactoryTest -vvv

# æµ‹è¯•ç‰¹å®šå‡½æ•°
forge test --match-test testCreateCircle -vvv

# GasæŠ¥å‘Š
forge test --gas-report

# è¦†ç›–ç‡æŠ¥å‘Š
forge coverage
```

### å½“å‰æµ‹è¯•è¦†ç›–ç‡

| åˆçº¦ | è¡Œè¦†ç›–ç‡ | å‡½æ•°è¦†ç›–ç‡ | çŠ¶æ€ |
|------|---------|-----------|------|
| CircleFactory | 68.13% | 75% | âœ… |
| CircleToken | 27.69% | 40% | âš ï¸ |
| BondingCurve | 9.73% | 20% | âš ï¸ |
| StakingPool | 0% | 0% | ğŸ“ å¾…æµ‹è¯• |
| SocialLending | 0% | 0% | ğŸ“ å¾…æµ‹è¯• |
| RevenueDistribution | 0% | 0% | ğŸ“ å¾…æµ‹è¯• |
| CircleGovernor | 0% | 0% | ğŸ“ å¾…æµ‹è¯• |

### ç°æœ‰æµ‹è¯•ç”¨ä¾‹

```solidity
// test/CircleFactory.t.sol
âœ… testDeployment - éƒ¨ç½²æµ‹è¯•
âœ… testCreateCircle - åˆ›å»ºåœˆå­
âœ… testCreateCircleInsufficientFee - è´¹ç”¨ä¸è¶³æµ‹è¯•
âœ… testCreateMultipleCircles - åˆ›å»ºå¤šä¸ªåœˆå­
âœ… testDeactivateCircle - åœç”¨åœˆå­
âœ… testTransferCircleOwnership - è½¬ç§»æ‰€æœ‰æƒ
âœ… testUpdateCircleCreationFee - æ›´æ–°è´¹ç”¨
âœ… testGetStatistics - è·å–ç»Ÿè®¡
âœ… testPauseAndUnpause - æš‚åœåŠŸèƒ½
```

---

## ğŸ“š APIæ–‡æ¡£

### åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:8080/api/v1`
- **è®¤è¯æ–¹å¼**: JWT Token (ä»é’±åŒ…ç­¾åè·å–)
- **æ•°æ®æ ¼å¼**: JSON
- **å­—ç¬¦ç¼–ç **: UTF-8

### ç”¨æˆ·ç›¸å…³ API

#### æ³¨å†Œç”¨æˆ·

```http
POST /api/v1/users/register
Content-Type: application/json

{
  "wallet_address": "0x742d35cc6634c0532925a3b844bc9e7595f0beb1",
  "signature": "0x...",
  "message": "Sign this message to register",
  "username": "alice",
  "display_name": "Alice"
}

Response 200:
{
  "user": {...},
  "token": "eyJhbGciOiJIUzI1NiIs..."
}
```

#### è·å–ç”¨æˆ·ä¿¡æ¯

```http
GET /api/v1/users/:address

Response 200:
{
  "user_id": 1,
  "wallet_address": "0x...",
  "username": "alice",
  "display_name": "Alice",
  "follower_count": 100,
  "following_count": 50,
  "reputation_score": 85.5,
  ...
}
```

### åœˆå­ç›¸å…³ API

#### åˆ›å»ºåœˆå­

```http
POST /api/v1/circles
Authorization: Bearer <token>
Content-Type: application/json

{
  "name": "Tech Enthusiasts",
  "symbol": "TECH",
  "description": "A community for tech lovers",
  "curve_type": "LINEAR",
  "base_price": "1000000000000000",
  "category": "Technology",
  "tags": ["web3", "blockchain", "defi"]
}

Response 201:
{
  "circle_id": 1,
  "contract_address": "0x...",
  "transaction_hash": "0x...",
  ...
}
```

#### è·å–çƒ­é—¨åœˆå­

```http
GET /api/v1/circles/trending?limit=10

Response 200:
{
  "circles": [
    {
      "circle_id": 1,
      "name": "Tech Enthusiasts",
      "symbol": "TECH",
      "market_cap": "1000000000000000000",
      "member_count": 500,
      "current_price": "2000000000000000",
      ...
    },
    ...
  ]
}
```

### äº¤æ˜“ç›¸å…³ API

#### ä¹°å…¥ä»£å¸

```http
POST /api/v1/trades/buy
Authorization: Bearer <token>
Content-Type: application/json

{
  "circle_id": 1,
  "eth_amount": "1000000000000000000", // 1 ETH
  "min_tokens": "0" // æ»‘ç‚¹ä¿æŠ¤
}

Response 200:
{
  "trade_id": 123,
  "transaction_hash": "0x...",
  "tokens_received": "500000000000000000000",
  "price": "2000000000000000",
  "fee": "25000000000000000",
  ...
}
```

### é‡‘èç›¸å…³ API ğŸ†•

#### è´¨æŠ¼ä»£å¸

```http
POST /api/v1/staking/stake
Authorization: Bearer <token>
Content-Type: application/json

{
  "circle_id": 1,
  "amount": "100000000000000000000", // 100 tokens
  "lock_period_days": 30,
  "contribution_multiplier": 12000 // 1.2x
}

Response 200:
{
  "position_id": 1,
  "transaction_hash": "0x...",
  "expected_apy": "15.0",
  ...
}
```

#### å€Ÿæ¬¾

```http
POST /api/v1/lending/borrow
Authorization: Bearer <token>
Content-Type: application/json

{
  "collateral_token": "0x...",
  "collateral_amount": "1000000000000000000000", // 1000 tokens
  "borrow_amount": "1000000000000000000", // 1 ETH
  "reputation_score": 80
}

Response 200:
{
  "loan_id": 1,
  "transaction_hash": "0x...",
  "interest_rate": "5.5",
  "health_ratio": "15000", // 150%
  ...
}
```

---

## ğŸ”’ å®‰å…¨å®¡è®¡

### å·²å®ç°çš„å®‰å…¨æªæ–½

âœ… **æ™ºèƒ½åˆçº¦å±‚**
- ReentrancyGuard on all state-changing functions
- Pausable contracts for emergency stops
- Access control with Ownable/role-based permissions
- Input validation and sanitization
- Slippage protection on trades
- Gas optimization

âœ… **åç«¯å±‚**
- JWT authentication
- Rate limiting
- CORS protection
- Input validation
- SQL injection prevention (ORM)
- XSS protection

### å®‰å…¨æ£€æŸ¥æ¸…å•

```bash
# é™æ€åˆ†æ (Slither)
slither contracts/

# Gasä¼˜åŒ–æ£€æŸ¥
forge test --gas-report

# è¦†ç›–ç‡æ£€æŸ¥
forge coverage

# ä¾èµ–å®¡è®¡
forge tree
```

### å·²çŸ¥é£é™©å’Œé™åˆ¶

âš ï¸ **è­¦å‘Šäº‹é¡¹**:
1. **åˆçº¦æœªç»ç¬¬ä¸‰æ–¹å®¡è®¡** - å»ºè®®ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰è¿›è¡ŒCertiK/OpenZeppelinå®¡è®¡
2. **ä»·æ ¼é¢„è¨€æœº**: å½“å‰å€Ÿè´·åˆçº¦ä½¿ç”¨æ‰‹åŠ¨è®¾ç½®çš„ä»·æ ¼,ç”Ÿäº§ç¯å¢ƒåº”ä½¿ç”¨Chainlinkç­‰é¢„è¨€æœº
3. **Gasä¼˜åŒ–**: æŒ‡æ•°æ›²çº¿åœ¨å¤§é‡è´­ä¹°æ—¶å¯èƒ½è¶…Gasé™åˆ¶
4. **ä¸­å¿ƒåŒ–é£é™©**: éƒ¨åˆ†åŠŸèƒ½ä¾èµ–åç«¯API,å­˜åœ¨ä¸­å¿ƒåŒ–é£é™©

---

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

### ä»£ç ç»Ÿè®¡

- **æ™ºèƒ½åˆçº¦**: 8ä¸ª,~3,500è¡Œ
- **Solidityæµ‹è¯•**: 1ä¸ª,~300è¡Œ
- **Goåç«¯**: 15ä¸ªæ–‡ä»¶,~2,000è¡Œ
- **æ•°æ®åº“**: 15ä¸ªè¡¨,450è¡ŒSQL
- **æ–‡æ¡£**: 8ä¸ªæ–‡ä»¶

### Gasæ¶ˆè€—ç»Ÿè®¡

| æ“ä½œ | Gasæ¶ˆè€— | æˆæœ¬ (20 Gwei) |
|------|---------|---------------|
| åˆ›å»ºåœˆå­ | ~2,280,000 | ~0.046 ETH |
| ä¹°å…¥ä»£å¸ | ~200,000 | ~0.004 ETH |
| å–å‡ºä»£å¸ | ~150,000 | ~0.003 ETH |
| è´¨æŠ¼ | ~150,000 | ~0.003 ETH |
| å€Ÿæ¬¾ | ~250,000 | ~0.005 ETH |
| æŠ•ç¥¨ | ~100,000 | ~0.002 ETH |

### éƒ¨ç½²æˆæœ¬

- **CircleFactory**: ~0.105 ETH (20 Gwei)
- **BondingCurve**: ~0.08 ETH (20 Gwei)
- **StakingPool**: ~0.07 ETH (20 Gwei)
- **æ€»è®¡**: ~0.3 ETH (çº¦$600 @ $2000/ETH)

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®!è¯·éµå¾ªä»¥ä¸‹æµç¨‹:

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯Pull Request

### ä»£ç è§„èŒƒ

- Solidity: éµå¾ª[Solidity Style Guide](https://docs.soliditylang.org/en/latest/style-guide.html)
- Go: éµå¾ª[Effective Go](https://go.dev/doc/effective_go)
- æäº¤æ¶ˆæ¯: éµå¾ª[Conventional Commits](https://www.conventionalcommits.org/)

---

## ğŸ“ è®¸å¯è¯

MIT License - è¯¦è§LICENSEæ–‡ä»¶

---

## ğŸ“§ è”ç³»æ–¹å¼

- **GitHub Issues**: https://github.com/your-repo/issues
- **æ–‡æ¡£**: [docs/](docs/)
- **éƒ¨ç½²åœ°å€**: [docs/deployments.md](docs/deployments.md)

---

## ğŸ™ è‡´è°¢

- **OpenZeppelin** - å®‰å…¨çš„æ™ºèƒ½åˆçº¦åº“
- **Foundry** - å¼ºå¤§çš„å¼€å‘æ¡†æ¶
- **go-ethereum** - Goä»¥å¤ªåŠå®¢æˆ·ç«¯
- **Gin** - é«˜æ€§èƒ½Webæ¡†æ¶

---

**æœ€åæ›´æ–°**: 2025-11-01
**é¡¹ç›®ç‰ˆæœ¬**: v2.0-extended
**æ–‡æ¡£ä½œè€…**: Development Team

---

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

### Phase 1 - æµ‹è¯•å®Œå–„ (2å‘¨)
- [ ] ç¼–å†™StakingPoolå®Œæ•´æµ‹è¯•
- [ ] ç¼–å†™SocialLendingå®Œæ•´æµ‹è¯•
- [ ] ç¼–å†™RevenueDistributionæµ‹è¯•
- [ ] ç¼–å†™CircleGovernoræµ‹è¯•
- [ ] æå‡æµ‹è¯•è¦†ç›–ç‡åˆ°80%+

### Phase 2 - åç«¯å®Œæˆ (2-3å‘¨)
- [ ] å®ç°Web3Service (åŒºå—é“¾äº¤äº’)
- [ ] å®ç°Repositoryå±‚ (æ•°æ®è®¿é—®)
- [ ] å®ç°Serviceå±‚ (ä¸šåŠ¡é€»è¾‘)
- [ ] å®ç°Handlerå±‚ (APIå®ç°)
- [ ] å®ç°ä¸­é—´ä»¶ (è®¤è¯/é™æµ/æ—¥å¿—)

### Phase 3 - å®‰å…¨å®¡è®¡ (2å‘¨)
- [ ] ç¬¬ä¸‰æ–¹å®¡è®¡ (CertiK/OpenZeppelin)
- [ ] ä¿®å¤å®¡è®¡å‘ç°çš„é—®é¢˜
- [ ] Gasä¼˜åŒ–
- [ ] å‹åŠ›æµ‹è¯•

### Phase 4 - å‰ç«¯å¼€å‘ (4-6å‘¨)
- [ ] React/Next.jsåº”ç”¨
- [ ] é’±åŒ…è¿æ¥ (MetaMask/WalletConnect)
- [ ] UI/UXè®¾è®¡
- [ ] ç§»åŠ¨ç«¯é€‚é…

### Phase 5 - ä¸»ç½‘éƒ¨ç½² (1å‘¨)
- [ ] ä¸»ç½‘éƒ¨ç½²
- [ ] åˆå§‹æµåŠ¨æ€§æä¾›
- [ ] è¥é”€æ¨å¹¿
- [ ] ç¤¾åŒºå»ºè®¾

---

**ğŸ‰ é¡¹ç›®å·²å®Œæˆæ ¸å¿ƒåŠŸèƒ½å¼€å‘,ç°å¤„äºæµ‹è¯•å’Œå®Œå–„é˜¶æ®µ!**
